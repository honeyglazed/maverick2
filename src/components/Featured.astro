---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

export interface Props {
    heading: string;
    description: string;
    imgs: Array<ImageMetadata>;
}

const { heading, description, imgs } = Astro.props;
---

<div
    class="max-w-md mx-auto shadow-2xl drop-shadow-2xl overflow-hidden md:max-w-3xl rounded-3xl"
>
    <div class="md:flex items-center">
        <div class="featured-swiper h-full md:w-1/2 overflow-hidden relative">
            <div class="swiper-wrapper">
                {
                    imgs.map((img) => (
                        <div class="swiper-slide">
                            <Image src={img} alt={"picture"} quality={"mid"} />
                        </div>
                    ))
                }
            </div>
            <div
                class="featured-swiper-pagination absolute z-10 flex justify-center mb-8 max-w-[80%] !left-1/2 !transform !-translate-x-1/2"
            >
            </div>
        </div>
        <div class="p-8 h-full md:w-1/2 text-center">
            <p class="text-black font-sans text-xs font-bold tracking-widest">
                FEATURED
            </p>
            <p
                class="text-black mt-2 font-serif text-2xl antialiased font-light"
            >
                {heading}
            </p>
            <p class="mt-6 text-black font-serif font-medium text-xl">
                {description}
            </p>
            <button
                class="rounded-lg border-2 border-black font-sans font-light mt-10 tracking-wide w-1/2 hover:bg-slate-200"
            >
                <p class="mx-2 my-2 text-sm">DISCOVER MORE</p>
            </button>
        </div>
    </div>
</div>

<style is:inline>
    .featured-swiper-pagination .swiper-pagination-bullet {
        width: 100%;
        height: 3px;
        background-color: #82827c;
        border-radius: 0;
        opacity: 0.8;
        margin: 0 !important;
    }
    .featured-swiper-pagination .swiper-pagination-bullet-active {
        background-color: #f7f7f2;
    }
</style>

<script>
    const featured_swiper = new Swiper(".featured-swiper", {
        slidesPerView: 1,
        loop: true,
        autoplay: { delay: 4000 },
        watchOverflow: false,
        pagination: {
            el: ".featured-swiper-pagination",
        },
    });
</script>
